/* kForm v1 Â© Refkinscallv | kform.github.io (documentation) */
window.onload=function(){window.jQuery?$("body").prepend("<style>.kform {display:none} .kform-show {display:block}</style>"):alert("kForm Alert\n\njQuery not installed\nPlease install it first with at least version 3.6.0")};class kForm{constructor(t){if(void 0!==t.default_tab){if(""==t.default_tab||null==t.default_tab||!1==t.default_tab)alert("kForm Alert\n\ndefault_tab not set properly\nuse tabs value"),this.kformStep("0");else{var e=isNaN(t.default_tab)||parseInt(Number(t.default_tab))!=t.default_tab||isNaN(parseInt(t.default_tab,10))?t.default_tab:t.default_tab.toString();this.kformStep(e)}}else this.kformStep("1");void 0!==t.message_alert?""==t.message_alert||null==t.message_alert?this.alert=" can not be empty":this.alert=" "+t.message_alert:this.alert=" can not be empty",void 0!==t.sweetalert2?""==t.sweetalert2||null==t.sweetalert2||!1==t.sweetalert2?this.sweetalert2=!1:this.sweetalert2=!0:this.sweetalert2=!1}to(numberTab){var param=isNaN(numberTab)||parseInt(Number(numberTab))!=numberTab||isNaN(parseInt(numberTab,10))?numberTab:numberTab.toString(),_ktab=1==param?1:eval(param)-1,post_form=$(".ktab"+_ktab+" input, .ktab"+_ktab+" select, .ktab"+_ktab+" textarea").serializeArray(),validate=this.stepValidation(post_form,this.alert);return!0==validate.status?this.kformStep(param):this.sweetalert2?Swal.fire({icon:"error",title:"Oops!",html:validate.message,iconColor:"#dc3545",confirmButtonText:"close",confirmButtonColor:"#dc3545"}):alert(validate.message)}back(t){var e=isNaN(t)||parseInt(Number(t))!=t||isNaN(parseInt(t,10))?t:t.toString();this.kformStep(e)}finish(t,e){var a=isNaN(t)||parseInt(Number(t))!=t||isNaN(parseInt(t,10))?t:t.toString();if(""==e||null==e)alert("kForm Alert\n\nform not found, use ID to initialize the form");else if(document.getElementById(e)){var s=$(".ktab"+a+" input, .ktab"+a+" select, .ktab"+a+" textarea").serializeArray(),r=this.stepValidation(s,this.alert);if(!0!=r.status)return this.sweetalert2?Swal.fire({icon:"error",title:"Oops!",html:r.message,iconColor:"#dc3545",confirmButtonText:"close",confirmButtonColor:"#dc3545"}):alert(r.message);var l=$("#"+e);if(void 0===l.attr("action"))return;l.trigger("submit")}else alert("kForm Alert\n\nform with id "+e+" not found")}kformStep(t){var e,a,s;for(e=t.indexOf("ktab")>0?t.split("ktab").join(""):t,a=document.getElementsByClassName("kform"),"all"==e&&(e=""),s=0;s<a.length;s++)this.kformStepRemove(a[s],"kform-show"),a[s].className.indexOf(e)>-1&&this.kformStepAdd(a[s],"kform-show")}kformStepAdd(t,e){var a,s,r;for(a=0,s=t.className.split(" "),r=e.split(" ");a<r.length;a++)-1==s.indexOf(r[a])&&(t.className+=" "+r[a])}kformStepRemove(t,e){var a,s,r;for(a=0,s=t.className.split(" "),r=e.split(" ");a<r.length;a++)for(;s.indexOf(r[a])>-1;)s.splice(s.indexOf(r[a]),1);t.className=s.join(" ")}stepValidation(t,e){var a,s,r,l={status:!0,message:""};return $.each(t,function(i){var o=$("[name='"+t[i].name+"']"),n=t[i].value;r=o.attr("data-label")&&""!=o.attr("data-label")?o.data("label"):t[i].name,o.attr("data-required")?"false"!==o.attr("data-required")&&0==this.length&&(l={status:a=!1,message:s=e.split("_FIELD_").join(r.split("_").join(" "))}):0==n.length&&(l={status:a=!1,message:s=e.split("_FIELD_").join(r.split("_").join(" "))})}),l}}